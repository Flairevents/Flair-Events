<div class="v2-profile-identification-birthcert-content" style='margin-bottom:20px;'>
  <strong>UK Birth Certificate</strong>
  <p><strong>+ National Insurance Evidence (card or tax office document).</strong></p>
  <p><strong>+ Photo ID (Driving License, Student card, etc.)</strong></p>
</div>

<%= form_tag '../staff/upload_birth_certificate', multipart: true, class: 'form-val fl-form' do %>
  <%= hidden_field_tag :authenticity_token, form_authenticity_token %>
  <div class="d-flex flex-row bd-highlight" style='margin-bottom:12px;'>
    <div class="v2-f1 v2-profile-identification-birthcert-inputs d-flex flex-row bd-highlight">
      <div class="v2-upload-file-button" id='v2-identification-upload-birth-cert'>Upload File</div>
      <div class="v2-upload-file-content" id='v2-identification-upload-birth-cert-content'>Full Birth Certificate</div>
    </div>
    <%= file_field_tag :birth_certificate, required: true, class: "file-field-1 form-control", accept: @accepted_images,  style: 'display: block; position: absolute;left: 0;opacity: 0;z-index: -1;' %>

    <a class="v2-help" style='margin-left: 7px;' onclick="$('.birth-cert-popup').show()">
      <i class="glyphicon glyphicon-question-sign"></i>
    </a>

    <%= text_field_tag :id_no, nil, required: true, class: "form-control v2-profile-identification-birthcert-text-inputs v2-inputs", placeholder: 'Birth Certificate No.', style: 'margin-left: 40px;', required: true, autocomplete: "off" %>

    <a class="v2-help" style='margin-left: 7px;' onclick="$('.birth-cert-number-popup').show()">
      <i class="glyphicon glyphicon-question-sign"></i>
    </a>
  </div>

  <div class="d-flex flex-row bd-highlight" style='margin-bottom: 15px;'>
    <div class="v2-f2 v2-profile-identification-birthcert-inputs d-flex flex-row bd-highlight">
      <div class="v2-upload-file-button" id='v2-identification-upload-ni-doc'>Upload File</div>
      <div class="v2-upload-file-content d-flex align-items-center" id='v2-identification-upload-ni-doc-content' style="margin-top:0px;">Tax Office Document stating NI number</div>
    </div>
    <%= file_field_tag :ni_document, required: true, class: "file-field-2 form-control", accept: @accepted_images, style: 'display: block; position: absolute;left: 0;opacity: 0;z-index: -1;' %>

    <a class="v2-help" onclick="$('.ni-doc-popup').show()" style='margin-left:6px;'>
      <i class="glyphicon glyphicon-question-sign"></i>
    </a>

    <div class="v2-f3 v2-profile-identification-birthcert-inputs d-flex flex-row bd-highlight" style='margin-left:40px;'>
      <div class="v2-upload-file-button" id='v2-identification-upload-photo-id'>Upload File</div>
      <div class="v2-upload-file-content" id='v2-identification-upload-photo-id-content'>Photo ID</div>
    </div>
    <%= file_field_tag :photo_id, required: true, class: "file-field-3 form-control", accept: @accepted_images, style: 'display: block; position: absolute; opacity: 0;z-index: -1; right: 0; width: fit-content;' %>

    <a class="v2-help" onclick="$('.photo-id-popup').show()" style='margin-left:6px;'>
      <i class="glyphicon glyphicon-question-sign"></i>
    </a>
  </div>

  <div class="v2-profile-identification-birthcert-content" style='margin-top: 24px'>
    <p>All scans or photos <strong>MUST</strong></p>
    <ul>
      <li><strong>Be in full colour, Looking directly onto a flat document</strong></li>
      <li><strong>Display All text, four corners of document without glare or shine from flash</strong></li>
    </ul>
  </div>

  <center>
    <% if @prospect.photo.blank? %>
      <%= submit_tag 'SUBMIT', class: 'v2-profile-identification-birthcert-submit', id: 'id-upload-submit', style: 'display: none' %>
      <button type="button" class="v2-profile-identification-submit" data-toggle="modal" data-target="#edit-uploaded-photo" id="modal-required-button-upload" data-backdrop="static" data-keyboard="false" data-required="true">SUBMIT</button>
    <% else %>
      <%= submit_tag 'SUBMIT', class: 'v2-profile-identification-birthcert-submit', id: 'id-upload-submit' %>
      <button type="button" class="v2-profile-identification-submit" id="modal-required-button-upload" data-toggle="modal" data-target="#edit-uploaded-photo" data-backdrop="static" data-keyboard="false" data-required="true" style="display: none">SUBMIT</button>
    <% end %>
  </center>
<% end %>


<div class="birth-cert-popup v2-id-pic-pop-up" style="display:none">
  <div class="v2-id-pic-pop-up-body">
    <%= image_tag 'id-sample-uk-birth-cert.jpg' %>
    <a class="fl-flash__close-btn" onclick="$('.v2-id-pic-pop-up').hide()">
      <span>Close</span>
    </a>
  </div>
</div>
<div class="ni-doc-popup sample-popup v2-id-pic-pop-up" style="display:none">
  <div class="v2-id-pic-pop-up-body">
    <p>"NI Document" is any document generated by the Government stating your National Insurance number. For example, your National Insurance Card, Tax Letters, or P45.</p>
    <a class="fl-flash__close-btn" onclick="$('.v2-id-pic-pop-up').hide()">
      <span>Close</span>
    </a>
  </div>
</div>
<div class="photo-id-popup sample-popup v2-id-pic-pop-up" style="display:none">
  <div class="v2-id-pic-pop-up-body">
    <p>"Photo ID" is any recent photo identification, such as your Driver's License, Proof of Age ID, etc.</p>
    <a class="fl-flash__close-btn" onclick="$('.v2-id-pic-pop-up').hide()">
      <span>Close</span>
    </a>
  </div>
</div>
<div class="birth-cert-number-popup sample-popup v2-id-pic-pop-up" style="display:none">
  <div class="v2-id-pic-pop-up-body">
    <%= image_tag 'id-sample-uk-birth-cert-number.jpg' %>
    <a class="fl-flash__close-btn" onclick="$('.v2-id-pic-pop-up').hide()">
      <span>Close</span>
    </a>
  </div>
</div>
<% content_for_once :js do %>
  <script>
      $('.form-val').on('submit', function () {
          check = 1
          $(this).find('.file-field-1').each(function () {
              if ($(this)[0].files.length == 0) {
                  $('.v2-f1').css('border', '2px solid red');
                  c1 = 1;
              } else {
                  c1 = 0;
                  $('.v2-f1').css('border', 'none');
              }
          })
          $(this).find('.file-field-2').each(function () {
              if ($(this)[0].files.length == 0) {
                  $('.v2-f2').css('border', '2px solid red');
                  c2 = 1;
              } else {
                  c2 = 0;
                  $('.v2-f2').css('border', 'none');
              }
          })
          $(this).find('.file-field-3').each(function () {
              if ($(this)[0].files.length == 0) {
                  $('.v2-f3').css('border', '2px solid red');
                  c3 = 1;
              } else {
                  c3 = 0;
                  $('.v2-f3').css('border', 'none');
              }
          })


          if (c1 == 0 && c2 == 0 && c3 == 0 ){
              check = 0
          } else {
              check = 1
          }
          if(check == 1){
              return false;
          }else{
              return true;
          }
      })
  </script>
<% end %>
