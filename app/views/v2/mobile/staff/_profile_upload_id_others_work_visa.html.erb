<div>
  <div class="v2-profile-identification-uk">Share Code</div>
  <div class="d-flex flex-row bd-highlight" style='margin-bottom: 45px;'>
    <div class="d-flex flex-column bd-highlight align-items-center" style='width: 100%; margin-top: 15px;'>
      <div class="d-flex justify-content-end" style="width: 100%; align-items: center">
        <%= text_field_tag :share_code, (@prospect ? @prospect.share_code : nil), required: true, class: "form-control v2-profile-identification-passport-text-inputs v2-inputs", placeholder: 'XXX-XXX-XXX', autocomplete: "off", 'data-inputmask-regex':"[a-za-zA-Z0-9]{3}-[a-za-zA-Z0-9]{3}-[a-za-zA-Z0-9]{3}", pattern: "[a-za-zA-Z0-9]{3}-[a-za-zA-Z0-9]{3}-[a-za-zA-Z0-9]{3}", title: "Valid Share Code (ie. 9WY-6GY-2S2)" %>
        <a class="v2-help-absolute" style='position: absolute; margin-right:6px' onclick="$('.share-code-info').show()">
          <i class="glyphicon glyphicon-question-sign"></i>
        </a>
      </div>

      <span class='form-check-label v2-profile-identification-checkbox-label' style='margin-left:0;'>Need a share code:</span>
            
      <a href="https://www.gov.uk/view-prove-immigration-status" target="_blank" class='form-check-label v2-profile-identification-checkbox-label text-center' style='margin-left:0;'>www.gov.uk/view-prove-immigration-status</a>
    </div>
  </div>

  <div class="v2-profile-identification-uk"'>Work Visa</div>
  <div class="v2-mobile-upload-label">
    Expiry Date
  </div>
  <%= date_field_tag :visa_expiry, (@prospect ? @prospect.visa_expiry : nil), required: true,  class: "form-control v2-profile-identification-passport-text-inputs v2-inputs"  %>
  <div class="d-flex">
    <div class='v2-application-checkbox' style= 'margin-left:44px; margin-top:17px'>
      <input id="visa-indefinite" name="visa_indefinite" type="checkbox" class='form-check-input v2-profile-identification-checkbox' onchange="onChangeIndefinite()">

      <label for="visa-indefinite" class='form-check-label v2-profile-identification-checkbox-label' style='margin-left:0;'>Indefinite Leave to Remain</label>
    </div>

    <a class="v2-help" style= 'margin-left:14px; margin-top:18px' onclick="$('.non-eu-id-indefinite-popup').show()">
      <i class="glyphicon glyphicon-question-sign"></i>
    </a>
  </div>
</div>

<div class="share-code-info sample-popup v2-id-pic-pop-up" style="display:none;">
  <div class="v2-id-pic-pop-up-body d-flex flex-column text-center" style="max-width: 360px">
    <h3>UK Immigration Digital Checks</h3>
    <span style='margin-top: 18px; font-size: 19px'><strong>Share code?</strong></span>
    <span>Migrant workers can now prove their Right To Work by giving an employer a 'share code' which is generated by the UK immigration service so employers can now check your status digitally.</span>
    <span style='margin-top: 18px; font-size: 19px'><strong>Share codes are valid for 90 days</strong></span>
    <span>Visit the below link to generate a 'share code'.</span>
    <a href="https://www.gov.uk/view-prove-immigration-status" target="_blank" style='margin-left:0; margin-top: 8px;'>www.gov.uk/view-prove-immigration-status</a>
    <span style='margin-top: 18px;'>Once Flair has recorded the information provided, your profile will be complete and you're ready to start work.</span>
    <a class="fl-flash__close-btn" onclick="$('.v2-id-pic-pop-up').hide()">
      <span>Close</span>
    </a>
  </div>
</div>
<div class="non-eu-id-indefinite-popup sample-popup v2-id-pic-pop-up" style="display:none">
  <div class="v2-id-pic-pop-up-body">
    <%= image_tag 'id-sample-non-eu-brp-indefinite.jpg' %>
    <a class="fl-flash__close-btn" onclick="$('.v2-id-pic-pop-up').hide()">
      <span>Close</span>
    </a>
  </div>
</div>
<% content_for :js do %>
  <script>
    function onChangeIndefinite() {
      if($('#visa-indefinite').prop('checked')) {
        $('#visa_expiry').prop('required',false);
      } else {
        $('#visa_expiry').prop('required',true);
      }
    }
  </script>
<% end %>